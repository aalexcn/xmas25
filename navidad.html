<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Navidad 2025 üéÑ</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
/* ================= BASE ================= */
body {
  margin: 0;
  height: 100vh;
  background:
    radial-gradient(circle at top, rgba(255,215,0,0.12), transparent 40%),
    radial-gradient(circle at bottom left, rgba(200,0,0,0.15), transparent 45%),
    radial-gradient(circle at bottom right, rgba(0,150,80,0.15), transparent 45%),
    linear-gradient(135deg, #0b1d3a, #1f4068);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: "Georgia", serif;
  color: #fff;
  overflow: hidden;
}

/* ================= NIEVE ================= */
.snow {
  position: fixed;
  top: -10px;
  pointer-events: none;
  animation: fall linear infinite;
  z-index: 1;
}

@keyframes fall {
  to { transform: translateY(110vh); }
}

/* ================= OVERLAY FORM ================= */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.overlay-card {
  background: rgba(15,25,45,0.95);
  border-radius: 22px;
  padding: 40px 30px;
  max-width: 420px;
  width: 100%;
  text-align: center;
}

/* ================= LIBRO ================= */
.book {
  width: 100%;
  max-width: 420px;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
  position: relative;
  overflow: hidden;
  padding: 20px 16px 56px;
  transition: height 0.35s ease;
  z-index: 5;
}

/* ================= P√ÅGINAS ================= */
.page {
  position: absolute;
  inset: 0;
  padding: 20px 16px 56px;
  opacity: 0;
  transform: translateX(100%);
  transition: transform 0.45s ease, opacity 0.35s ease;
  display: flex;
}

.page.active { opacity: 1; transform: translateX(0); }
.page.left { transform: translateX(-100%); }

.page-content {
  width: 100%;
  overflow-y: auto;
  padding-right: 6px;
}

/* ================= TEXTO ================= */
.page h2 {
  font-size: 1.45rem;
  margin-bottom: 14px;
  text-align: center;
}

.page p {
  font-size: 0.95rem;
  line-height: 1.65;
  white-space: pre-line;
}

/* ================= NAV ================= */
.nav {
  position: absolute;
  bottom: 10px;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 14px;
}

.nav button {
  background: rgba(255,255,255,0.18);
  border: none;
  color: #fff;
  padding: 8px 14px;
  border-radius: 12px;
}

.nav button:disabled { opacity: 0.35; }
/* ================= REGALO FINAL ================= */
.gift-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, rgba(255,255,255,0.15), rgba(0,0,0,0.95));
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  z-index: 500;
  text-align: center;
}

.gift-box {
  font-size: 6rem;
  cursor: pointer;
  animation: giftShake 1.2s infinite;
  z-index: 2;
}

@keyframes giftShake {
  0%,100% { transform: rotate(0deg); }
  25% { transform: rotate(-6deg); }
  75% { transform: rotate(6deg); }
}

.gift-light {
  position: absolute;
  width: 320px;
  height: 320px;
  background: radial-gradient(circle, rgba(255,255,200,0.9), transparent 70%);
  animation: glow 2s infinite;
  z-index: 1;
}

@keyframes glow {
  0% { transform: scale(0.9); opacity: 0.6; }
  100% { transform: scale(1.15); opacity: 1; }
}

.gift-text {
  margin-top: 30px;
  font-size: 1.8rem;
  font-weight: bold;
  text-shadow: 0 0 25px rgba(255,255,255,0.9);
}

.reflection {
  margin-top: 30px;
  width: 90%;
  max-width: 420px;
}

.reflection textarea {
  width: 100%;
  min-height: 130px;
  border-radius: 14px;
  padding: 12px;
  border: none;
  resize: vertical;
}
.book {
  transition: opacity 0.6s ease, transform 0.6s ease, height 0.35s ease;
}
.gift-overlay {
  display: none;
}

</style>
</head>

<body>

<!-- ================= NIEVE ================= -->
<script>
for (let i = 0; i < 40; i++) {
  const s = document.createElement("div");
  s.className = "snow";
  s.textContent = "‚ùÑ";
  s.style.left = Math.random() * 100 + "vw";
  s.style.fontSize = (10 + Math.random() * 18) + "px";
  s.style.animationDuration = (6 + Math.random() * 6) + "s";
  document.body.appendChild(s);
}
</script>

<!-- ================= FORMULARIO ================= -->
<div class="overlay" id="overlay">
  <div class="overlay-card">
    <h5>Antes de empezar ‚ú®</h5>
    <p>Este mensaje no es gen√©rico.<br>Escr√≠beme tu nombre üíô</p>
    <input id="nameInput" class="form-control text-center my-3">
    <div id="error" class="text-warning d-none">Escribe tu nombre real üôÇ</div>
    <button id="startBtn" class="btn btn-light w-100">Entrar</button>
  </div>
</div>

<!-- ================= LIBRO ================= -->
<div class="book" id="book">

  <!-- PORTADA -->
  <div class="page active"><div class="page-content">
    <h2>Navidad 2025 üéÑ</h2>
    <p id="text-0" style="text-align:center"></p>
  </div></div>

  <div class="page"><div class="page-content"><p id="text-1"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-2"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-3"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-4"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-5"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-6"></p></div></div>
  <div class="page"><div class="page-content"><p id="text-7"></p></div></div>

  <div class="nav">
    <button id="prev">‚Üê</button>
    <button id="next">‚Üí</button>
  </div>
</div>
<!-- ================= REGALO FINAL ================= -->
<div class="gift-overlay" id="giftOverlay">
  <div class="gift-light"></div>

  <div class="gift-box" id="giftBox">
    üéÅ
  </div>

  <div class="gift-text d-none" id="giftText">
    ¬°Feliz Navidad y Pr√≥spero A√±o 2026! ‚ú®üéÑ
  </div>

  <div class="reflection d-none" id="reflection">
    <h4>Si te apetece, deja aqu√≠ un comentario üí≠</h4>
    <textarea
      placeholder="Cu√©ntame algo vengaaa"
    ></textarea>
  </div>
</div>

<script>
/* ================= DATOS ================= */
const overlay = document.getElementById("overlay");
const input = document.getElementById("nameInput");
const button = document.getElementById("startBtn");
const error = document.getElementById("error");
const book = document.getElementById("book");
const giftOverlay = document.getElementById("giftOverlay");
const giftBox = document.getElementById("giftBox");
const giftText = document.getElementById("giftText");
const reflection = document.getElementById("reflection");

let name = localStorage.getItem("visitorName");

/* ================= TEXTO ORIGINAL √çNTEGRO ================= */
const texts = (n) => [
`Hola, ${n}.

¬°Feliz Navidad!

Gracias por llegar hasta aqu√≠.

Espero que te guste lo que est√°s a punto de leer.`,

`2024 no fue un buen a√±o, ni mucho menos, pero aunque eso ya qued√≥ muy atr√°s, creo que es importante recordarlo para poder compararlo con el que, ha sido uno de los mejores a√±os de mi vida.

Y es curioso porque no ha pasado nada muy relevante, ni muy importante y creo que, en parte, para m√≠ eso es lo que lo hace de los mejores.`,

`Yo siempre les dec√≠a a mis amigos: "tranquilo es una mala racha, ya vendr√°n mejores".

No miento si digo que este a√±o habr√© atravesado ¬ø1? ¬ø2? malas rachas. Por fin, puedo decir que estoy feliz casi al 100%, y lo m√°s importante, que SOY feliz, en may√∫sculas.`,

`Siempre he tendido a ver lo negativo de todo y a quedarme √∫nicamente con eso, me encerraba en mi burbuja llena de oscuridad y no pod√≠a ver otra cosa que ese fondo negro.

Ll√°mame loco pero el 2025, ha sido como un rayo de luz para mi. Esa luz me ha alumbrado y guiado hacia donde s√≠ debo estar y lo que s√≠ debo ser.`,

`Y aunque estoy muy orgulloso de los grandes avances que he hecho este a√±o personalmente, no podr√≠a haberlo logrado sin ti, ${n}. Y eso me llena a√∫n mas de orgullo.

Rodearme de un entorno sano, feliz, real y fiel es un regalo que yo recibo a diario. Seguramente no merezca tanto, o quiz√°s si, lo que tengo seguro es que no podr√≠a pedir nada mejor.`,

`Me da igual si eres uno de los de toda la vida, o nos conocemos hace poco, si eres de Murillo, o del pueblo de al lado, si comentamos la isla de las tentaciones o la casa de los gemelos, nos veamos poco, mucho, o casi nada, si est√°s aqui, gracias.

He ido a mi primer apres-ski, he visitado nuevas ciudades, nuevos estadios de f√∫tbol, he perdido dinero en LAS VEGAS, he visto casi morir al club de mi vida dos veces, y resurgir de entre las cenizas y he atravesado uno de los puentes mas espectaculares del mundo, entre otras tantas cosas.`,

`A nivel personal este a√±o he aprendido tantas cosas.

Decid√≠ lanzarme a la piscina e irme con 18 personas que no conoc√≠a de absolutamente nada a Estados Unidos 20 d√≠as, ahora gracias a dios, varias de esas personas son mis amigos.

Tengo 5 t√≠os espectaculares a mi lado con los que paso la mayor parte de mis d√≠as y no podr√≠a tener m√°s suerte de vivir tantas cosas con ellos. Un a√±o m√°s, mi segunda familia de mi segunda casa, a√±o tras a√±o siguen ah√≠ al pie del ca√±√≥n, en verano o fuera de √©l.

Tengo a mis personas de toda la vida, que las que valen, ah√≠ siguen.

Afortunadamente, me he adaptado de maravilla al mundo laboral y de momento, no podr√≠a estar en un mejor sitio ni tener unos mejores compa√±eros, que ya son m√°s que simples compa√±eros.

Y si eres una de las personas que ha entrado nuevas en mi vida, si est√°s leyendo esto, es porque quiero que permanezcas mucho tiempo m√°s.`,

`De verdad, aunque suene a t√≥pico gracias por estar ah√≠ siempre, por considerarme un amigo tuyo y por perder unos minutos de tu d√≠a en leer esto.

Gracias, porque sin ti, el a√±o habr√≠a sido un poquito peor, un poquito menos divertido.

‚Äî √Ålex 2025 üéÑ`
];

/* ================= TYPEWRITER ================= */
let timer;
function typeWriter(text, el) {
  el.textContent = "";
  el.scrollTop = 0;
  let i = 0;
  clearInterval(timer);
  timer = setInterval(() => {
    el.textContent += text.charAt(i++);
    el.scrollTop = el.scrollHeight;
    if (i >= text.length) {
      clearInterval(timer);
      adjustHeight(el);
    }
  }, 22);
}

/* ================= ALTURA DIN√ÅMICA ================= */
function adjustHeight(el) {
  const min = 320;
  const max = window.innerHeight * 0.85;
  const needed = el.scrollHeight + 140;
  book.style.height = Math.min(Math.max(needed, min), max) + "px";
}

/* ================= LIBRO ================= */
const pages = document.querySelectorAll(".page");
let current = 0;
const prev = document.getElementById("prev");
const next = document.getElementById("next");

function render() {
  pages.forEach((p, i) => {
    p.classList.remove("active", "left");
    if (i === current) p.classList.add("active");
    if (i < current) p.classList.add("left");
  });
  typeWriter(texts(name)[current], document.getElementById(`text-${current}`));
  prev.disabled = current === 0;
  next.disabled = false;

  
}
giftBox.addEventListener("click", () => {
  giftBox.style.animation = "none";
  giftText.classList.remove("d-none");
  reflection.classList.remove("d-none");
});

/* ================= FORM ================= */
button.onclick = () => {
  if (!input.value.trim()) {
    error.classList.remove("d-none");
    return;
  }
  name = input.value.trim();
  localStorage.setItem("visitorName", name);
  overlay.style.display = "none";
  render();
};

if (name) {
  overlay.style.display = "none";
  render();
}

prev.onclick = () => { if (current > 0) { current--; render(); }};
next.onclick = () => {
  // Si NO estamos en la √∫ltima p√°gina ‚Üí pasar p√°gina normal
  if (current < pages.length - 1) {
    current++;
    render();
    return;
  }

  // Si YA estamos en la √∫ltima p√°gina ‚Üí cerrar libro y mostrar regalo
  book.style.opacity = "0";
  book.style.transform = "scale(0.95)";
  book.style.pointerEvents = "none";

  setTimeout(() => {
    book.style.display = "none";
    giftOverlay.style.display = "flex";
  }, 600);
};

</script>

</body>
</html>
